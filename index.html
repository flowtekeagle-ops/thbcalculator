<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue Leakage Calculator | THB - Close-Circuit Coordinated Care</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&family=Nunito:wght@300;400;500;600;700;800&family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-blue: #1b394b;
            --dark-blue-deep: #122733;
            --dark-blue-deeper: #0d1e28;
            --light-blue: #36c1d7;
            --light-blue-glow: rgba(54, 193, 215, 0.15);
            --light-blue-soft: rgba(54, 193, 215, 0.08);
            --accent-orange: #F5A623;
            --accent-red: #E74C5E;
            --accent-green: #2EC4A0;
            --text-white: #FFFFFF;
            --text-light: #C8D6DF;
            --text-muted: #7A9BAD;
            --text-dim: #56788A;
            --card-bg: rgba(27, 57, 75, 0.6);
            --card-border: rgba(54, 193, 215, 0.12);
            --input-bg: rgba(13, 30, 40, 0.7);
            --input-border: rgba(54, 193, 215, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--dark-blue-deeper);
            color: var(--text-white);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ===== BACKGROUND ===== */
        .page-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background:
                radial-gradient(ellipse 80% 60% at 10% 15%, rgba(54, 193, 215, 0.08) 0%, transparent 60%),
                radial-gradient(ellipse 60% 50% at 90% 85%, rgba(54, 193, 215, 0.05) 0%, transparent 60%),
                radial-gradient(ellipse 50% 40% at 50% 50%, rgba(27, 57, 75, 0.4) 0%, transparent 70%);
        }

        /* subtle grid pattern */
        .page-bg::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(54, 193, 215, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(54, 193, 215, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
        }

        .container {
            max-width: 1360px;
            margin: 0 auto;
            padding: 1.5rem 2rem 3rem;
            position: relative;
            z-index: 1;
        }

        /* ===== HEADER ===== */
        header {
            text-align: center;
            padding: 2.5rem 0 2rem;
        }

        .logo-link {
            display: inline-block;
            margin-bottom: 1.75rem;
            transition: opacity 0.2s;
        }
        .logo-link:hover { opacity: 0.85; }
        .logo-link img { height: 56px; }

        h1 {
            font-family: 'Rubik', sans-serif;
            font-size: clamp(1.85rem, 4.5vw, 3.1rem);
            font-weight: 800;
            color: var(--text-white);
            letter-spacing: -0.5px;
            margin-bottom: 0.75rem;
        }

        h1 .hl {
            background: linear-gradient(135deg, var(--light-blue), #5DD8EB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.05rem;
            color: var(--text-muted);
            max-width: 620px;
            margin: 0 auto;
            font-weight: 400;
        }

        /* ===== LAYOUT ===== */
        .calc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.75rem;
            align-items: start;
        }
        @media (max-width: 1024px) {
            .calc-grid { grid-template-columns: 1fr; }
        }

        /* ===== CARDS ===== */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 18px;
            padding: 1.75rem;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            animation: cardIn 0.5s ease-out both;
        }
        .card + .card { animation-delay: 0.08s; }

        @keyframes cardIn {
            from { opacity: 0; transform: translateY(16px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        .card-head {
            display: flex;
            align-items: center;
            gap: 0.85rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--card-border);
        }

        .card-icon {
            width: 44px; height: 44px;
            border-radius: 11px;
            display: grid; place-items: center;
            background: linear-gradient(135deg, var(--light-blue), #5DD8EB);
            box-shadow: 0 6px 20px rgba(54, 193, 215, 0.25);
            flex-shrink: 0;
        }
        .card-icon svg { width: 22px; height: 22px; stroke: var(--dark-blue-deeper); }

        .card-head-text h2 {
            font-family: 'Rubik', sans-serif;
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--text-white);
        }
        .card-head-text p {
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        /* ===== REGION TOGGLE ===== */
        .region-toggle {
            display: flex; gap: 0.35rem;
            background: var(--input-bg);
            padding: 4px; border-radius: 11px;
            margin-bottom: 1.5rem;
        }
        .region-btn {
            flex: 1; padding: 0.6rem 0.75rem;
            border: none; border-radius: 9px;
            font-family: 'Nunito', sans-serif;
            font-size: 0.85rem; font-weight: 700;
            cursor: pointer; transition: all 0.2s;
            background: transparent;
            color: var(--text-dim);
        }
        .region-btn.active {
            background: linear-gradient(135deg, var(--light-blue), #5DD8EB);
            color: var(--dark-blue-deeper);
            box-shadow: 0 4px 16px rgba(54, 193, 215, 0.3);
        }
        .region-btn:not(.active):hover {
            color: var(--text-light);
            background: rgba(54, 193, 215, 0.06);
        }

        /* ===== FORM INPUTS ===== */
        .fg { margin-bottom: 1.35rem; }
        .fg:last-child { margin-bottom: 0; }

        .fg-label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.45rem;
        }

        .fg-label label {
            font-family: 'Manrope', sans-serif;
            font-size: 0.82rem;
            font-weight: 600;
            color: var(--text-light);
        }

        .bench-tag {
            font-family: 'Manrope', sans-serif;
            font-size: 0.7rem; font-weight: 600;
            color: var(--light-blue);
            background: var(--light-blue-glow);
            padding: 0.2rem 0.55rem;
            border-radius: 4px;
        }

        .input-wrap { position: relative; }
        .input-wrap .prefix {
            position: absolute;
            left: 0.85rem; top: 50%; transform: translateY(-50%);
            font-family: 'Rubik', sans-serif;
            font-weight: 600; font-size: 0.85rem;
            color: var(--text-dim); pointer-events: none;
        }

        input[type="number"], select {
            width: 100%; padding: 0.85rem 1rem;
            font-family: 'Rubik', sans-serif;
            font-size: 1rem; font-weight: 600;
            background: var(--input-bg);
            border: 1.5px solid var(--input-border);
            border-radius: 10px;
            color: var(--text-white);
            transition: all 0.2s;
        }
        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: var(--light-blue);
            box-shadow: 0 0 0 3px rgba(54, 193, 215, 0.12);
        }
        input.has-prefix { padding-left: 2.25rem; }

        /* ===== RANGE SLIDERS ===== */
        .range-row {
            position: relative;
        }
        .range-val {
            position: absolute; right: 0; top: -2px;
            font-family: 'Rubik', sans-serif;
            font-size: 1.2rem; font-weight: 700;
            color: var(--accent-orange);
        }

        input[type="range"] {
            width: 100%; height: 6px;
            border-radius: 3px; margin-top: 0.85rem;
            -webkit-appearance: none; appearance: none;
            cursor: pointer;
            background: linear-gradient(90deg,
                var(--light-blue) 0%,
                var(--light-blue) var(--fill, 0%),
                rgba(54, 193, 215, 0.15) var(--fill, 0%),
                rgba(54, 193, 215, 0.15) 100%);
            transition: background 0.1s;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 22px; height: 22px; border-radius: 50%;
            background: linear-gradient(145deg, var(--accent-orange), #F7C35F);
            box-shadow: 0 3px 12px rgba(245, 166, 35, 0.4);
            cursor: pointer; transition: transform 0.15s;
        }
        input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.12); }
        input[type="range"]::-moz-range-thumb {
            width: 22px; height: 22px; border-radius: 50%; border: none;
            background: linear-gradient(145deg, var(--accent-orange), #F7C35F);
            box-shadow: 0 3px 12px rgba(245, 166, 35, 0.4);
            cursor: pointer;
        }

        .range-ends {
            display: flex; justify-content: space-between;
            margin-top: 0.35rem;
            font-family: 'Manrope', sans-serif;
            font-size: 0.68rem; color: var(--text-dim);
        }

        /* ===== RESULTS CARD ===== */
        .results-card {
            background: linear-gradient(160deg, var(--card-bg), rgba(54, 193, 215, 0.06));
            border-color: rgba(54, 193, 215, 0.25);
            position: sticky; top: 1.5rem;
        }

        .results-hero {
            text-align: center;
            padding: 1rem 0 1.5rem;
            border-bottom: 1px solid var(--card-border);
            margin-bottom: 1.5rem;
        }
        .results-hero-label {
            font-family: 'Manrope', sans-serif;
            font-size: 0.8rem; font-weight: 600;
            text-transform: uppercase; letter-spacing: 1.5px;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }
        .results-hero-amount {
            font-family: 'Rubik', sans-serif;
            font-size: clamp(2.2rem, 5.5vw, 3.4rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-red), #FF7E5F);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.15;
        }
        .results-hero-sub {
            font-size: 0.82rem;
            color: var(--text-dim);
            margin-top: 0.4rem;
        }

        /* Breakdown rows */
        .bk-title {
            font-family: 'Manrope', sans-serif;
            font-size: 0.7rem; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1px;
            color: var(--text-dim);
            margin-bottom: 0.85rem;
        }

        .bk-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.85rem 1rem;
            background: var(--input-bg);
            border-radius: 10px;
            margin-bottom: 0.6rem;
            border-left: 3.5px solid;
            transition: transform 0.15s;
        }
        .bk-row:hover { transform: translateX(3px); }
        .bk-row.type-noshow  { border-color: var(--accent-red); }
        .bk-row.type-followup { border-color: var(--accent-orange); }
        .bk-row.type-churn   { border-color: #A78BFA; }

        .bk-info span:first-child {
            display: block;
            font-family: 'Rubik', sans-serif;
            font-weight: 600; font-size: 0.88rem;
            color: var(--text-white);
        }
        .bk-info span:last-child {
            font-size: 0.7rem; color: var(--text-dim);
        }
        .bk-amount {
            font-family: 'Rubik', sans-serif;
            font-weight: 700; font-size: 1rem;
            color: var(--accent-red);
            white-space: nowrap;
        }

        /* ===== ROI SECTION ===== */
        .roi-box {
            margin-top: 1.5rem;
            background: linear-gradient(145deg, rgba(46, 196, 160, 0.08), rgba(54, 193, 215, 0.06));
            border: 1px solid rgba(46, 196, 160, 0.25);
            border-radius: 14px;
            padding: 1.5rem;
        }
        .roi-head {
            display: flex; align-items: center; gap: 0.7rem;
            margin-bottom: 1.15rem;
        }
        .roi-icon {
            width: 38px; height: 38px;
            border-radius: 9px;
            background: var(--accent-green);
            display: grid; place-items: center;
        }
        .roi-icon svg { width: 18px; height: 18px; stroke: #fff; }
        .roi-head-text strong {
            font-family: 'Rubik', sans-serif;
            font-size: 0.95rem;
            color: var(--accent-green);
            display: block;
        }
        .roi-head-text span {
            font-size: 0.72rem; color: var(--text-dim);
        }

        .roi-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.7rem;
        }
        .roi-stat {
            text-align: center;
            padding: 0.9rem 0.5rem;
            background: var(--input-bg);
            border-radius: 10px;
        }
        .roi-stat-val {
            font-family: 'Rubik', sans-serif;
            font-size: 1.35rem; font-weight: 700;
            color: var(--accent-green);
        }
        .roi-stat-lbl {
            font-family: 'Manrope', sans-serif;
            font-size: 0.68rem; color: var(--text-dim);
            margin-top: 0.15rem;
        }

        /* ===== DUAL CTAs ===== */
        .cta-group {
            display: flex; flex-direction: column;
            gap: 0.65rem; margin-top: 1.5rem;
        }

        .cta-primary {
            display: flex; align-items: center; justify-content: center; gap: 0.65rem;
            width: 100%; padding: 1.1rem 1.5rem;
            background: linear-gradient(135deg, var(--light-blue), #5DD8EB);
            border: none; border-radius: 12px;
            color: var(--dark-blue-deeper);
            font-family: 'Rubik', sans-serif;
            font-size: 0.95rem; font-weight: 700;
            cursor: pointer; transition: all 0.25s;
            box-shadow: 0 6px 28px rgba(54, 193, 215, 0.35);
            text-decoration: none;
        }
        .cta-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 36px rgba(54, 193, 215, 0.45);
        }
        .cta-primary svg { width: 18px; height: 18px; }

        .cta-secondary {
            display: flex; align-items: center; justify-content: center; gap: 0.55rem;
            width: 100%; padding: 0.9rem 1.5rem;
            background: transparent;
            border: 1.5px solid rgba(54, 193, 215, 0.35);
            border-radius: 12px;
            color: var(--light-blue);
            font-family: 'Rubik', sans-serif;
            font-size: 0.88rem; font-weight: 600;
            cursor: pointer; transition: all 0.25s;
            text-decoration: none;
        }
        .cta-secondary:hover {
            background: rgba(54, 193, 215, 0.06);
            border-color: var(--light-blue);
        }
        .cta-secondary svg { width: 16px; height: 16px; }

        .cta-note {
            text-align: center;
            font-size: 0.68rem;
            color: var(--text-dim);
            margin-top: 0.65rem;
        }

        /* ===== BENCHMARKS ===== */
        .bench-panel {
            margin-top: 1.5rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 14px;
            padding: 1.25rem;
        }
        .bench-panel-title {
            display: flex; align-items: center; gap: 0.4rem;
            font-family: 'Manrope', sans-serif;
            font-size: 0.78rem; font-weight: 700;
            color: var(--text-muted); margin-bottom: 0.85rem;
        }
        .bench-panel-title svg { width: 14px; height: 14px; color: var(--light-blue); }

        .bench-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.6rem;
        }
        .bench-cell {
            background: var(--input-bg);
            padding: 0.65rem 0.5rem;
            border-radius: 8px; text-align: center;
        }
        .bench-cell-val {
            font-family: 'Rubik', sans-serif;
            font-size: 1rem; font-weight: 700;
            color: var(--accent-orange);
        }
        .bench-cell-lbl {
            font-family: 'Manrope', sans-serif;
            font-size: 0.62rem; color: var(--text-dim);
            margin-top: 0.1rem;
        }

        /* ===== FOOTER ===== */
        footer {
            text-align: center;
            padding: 2.5rem 1rem 2rem;
        }
        footer img { height: 28px; margin-bottom: 0.6rem; }
        footer p {
            font-size: 0.78rem; color: var(--text-dim);
        }
        footer a { color: var(--light-blue); text-decoration: none; }
        footer a:hover { text-decoration: underline; }

        /* ===== MOBILE ===== */
        @media (max-width: 768px) {
            .container { padding: 1rem; }
            .card { padding: 1.25rem; }
            .roi-grid { grid-template-columns: 1fr 1fr; }
            .bench-grid { grid-template-columns: 1fr 1fr; }
            .cta-group { gap: 0.5rem; }
        }
        @media (max-width: 480px) {
            .roi-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="page-bg"></div>

    <div class="container">
        <header>
            <a href="https://thb.group/" class="logo-link" target="_blank">
                <img src="https://thb.group/images/logo.svg" alt="THB">
            </a>
            <h1>Clinic <span class="hl">Revenue Leakage</span> Calculator</h1>
            <p class="subtitle">Discover how much revenue your hospital loses annually to no-shows, missed follow-ups, and patient churn ‚Äî and how fast THB pays for itself.</p>
        </header>

        <div class="calc-grid">
            <!-- ========== LEFT: INPUTS ========== -->
            <div>
                <!-- Card 1: Clinic Profile -->
                <div class="card">
                    <div class="card-head">
                        <div class="card-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                        </div>
                        <div class="card-head-text">
                            <h2>Your Clinic Profile</h2>
                            <p>Basic information about your practice</p>
                        </div>
                    </div>

                    <div class="region-toggle">
                        <button class="region-btn active" data-region="india" onclick="setRegion('india')">üáÆüá≥ India</button>
                        <button class="region-btn" data-region="middleeast" onclick="setRegion('middleeast')">üá¶üá™ Middle East</button>
                        <button class="region-btn" data-region="usd" onclick="setRegion('usd')">üåê USD</button>
                    </div>

                    <div class="fg">
                        <div class="fg-label">
                            <label>Daily OPD Volume (Patients/Day)</label>
                            <span class="bench-tag">Avg: 50‚Äì150</span>
                        </div>
                        <div class="input-wrap">
                            <input type="number" id="opdVolume" value="80" min="10" max="1000" oninput="calc()">
                        </div>
                    </div>

                    <div class="fg">
                        <div class="fg-label">
                            <label>Average Consultation Fee</label>
                            <span class="bench-tag" id="feeTag">‚Çπ300‚Äì800</span>
                        </div>
                        <div class="input-wrap">
                            <span class="prefix" id="curr">‚Çπ</span>
                            <input type="number" id="consultFee" value="500" min="50" max="10000" class="has-prefix" oninput="calc()">
                        </div>
                    </div>

                    <div class="fg">
                        <div class="fg-label">
                            <label>Working Days per Month</label>
                        </div>
                        <div class="input-wrap">
                            <input type="number" id="workDays" value="26" min="15" max="31" oninput="calc()">
                        </div>
                    </div>
                </div>

                <!-- Card 2: Leakage Factors -->
                <div class="card" style="margin-top: 1.25rem;">
                    <div class="card-head">
                        <div class="card-icon" style="background: linear-gradient(135deg, var(--accent-red), #FF7E5F);">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg>
                        </div>
                        <div class="card-head-text">
                            <h2>Leakage Factors</h2>
                            <p>Adjust sliders to match your clinic's reality</p>
                        </div>
                    </div>

                    <div class="fg">
                        <div class="range-row">
                            <div class="fg-label">
                                <label>No-Show Rate</label>
                            </div>
                            <span class="range-val" id="noShowVal">0%</span>
                        </div>
                        <input type="range" id="noShowRate" min="0" max="100" value="0" oninput="syncSlider(this,'noShowVal'); calc()">
                        <div class="range-ends"><span>0%</span><span>100%</span></div>
                    </div>

                    <div class="fg">
                        <div class="range-row">
                            <div class="fg-label">
                                <label>Follow-up Conversion Rate</label>
                            </div>
                            <span class="range-val" id="followupVal">0%</span>
                        </div>
                        <input type="range" id="followupRate" min="0" max="100" value="0" oninput="syncSlider(this,'followupVal'); calc()">
                        <div class="range-ends"><span>0% (None return)</span><span>100% (All return)</span></div>
                    </div>

                    <div class="fg">
                        <div class="range-row">
                            <div class="fg-label">
                                <label>Patients Needing Follow-up</label>
                            </div>
                            <span class="range-val" id="needFupVal">0%</span>
                        </div>
                        <input type="range" id="needFupRate" min="0" max="100" value="0" oninput="syncSlider(this,'needFupVal'); calc()">
                        <div class="range-ends"><span>0%</span><span>100%</span></div>
                    </div>

                    <div class="fg">
                        <div class="range-row">
                            <div class="fg-label">
                                <label>Annual Patient Churn Rate</label>
                            </div>
                            <span class="range-val" id="churnVal">0%</span>
                        </div>
                        <input type="range" id="churnRate" min="0" max="100" value="0" oninput="syncSlider(this,'churnVal'); calc()">
                        <div class="range-ends"><span>0%</span><span>100%</span></div>
                    </div>
                </div>

                <!-- Benchmarks -->
                <div class="bench-panel">
                    <div class="bench-panel-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
                        Industry Benchmarks ‚Äî <span id="regionLbl">India</span>
                    </div>
                    <div class="bench-grid">
                        <div class="bench-cell">
                            <div class="bench-cell-val" id="bNoShow">18‚Äì25%</div>
                            <div class="bench-cell-lbl">No-Show Rate</div>
                        </div>
                        <div class="bench-cell">
                            <div class="bench-cell-val" id="bFollowup">35‚Äì45%</div>
                            <div class="bench-cell-lbl">Follow-up Rate</div>
                        </div>
                        <div class="bench-cell">
                            <div class="bench-cell-val" id="bChurn">30‚Äì40%</div>
                            <div class="bench-cell-lbl">Annual Churn</div>
                        </div>
                        <div class="bench-cell">
                            <div class="bench-cell-val">35%</div>
                            <div class="bench-cell-lbl">CRM No-Show Fix*</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== RIGHT: RESULTS ========== -->
            <div>
                <div class="card results-card">
                    <div class="results-hero">
                        <p class="results-hero-label">Total Annual Revenue Leakage</p>
                        <p class="results-hero-amount" id="totalLeak">‚Çπ0</p>
                        <p class="results-hero-sub">Lost every year to preventable factors</p>
                    </div>

                    <div>
                        <h3 class="bk-title">Leakage Breakdown</h3>

                        <div class="bk-row type-noshow">
                            <div class="bk-info">
                                <span>No-Show Losses</span>
                                <span id="calcNoShow">Adjust sliders to calculate</span>
                            </div>
                            <div class="bk-amount" id="lossNoShow">‚Çπ0</div>
                        </div>

                        <div class="bk-row type-followup">
                            <div class="bk-info">
                                <span>Missed Follow-up Revenue</span>
                                <span id="calcFollowup">Adjust sliders to calculate</span>
                            </div>
                            <div class="bk-amount" id="lossFollowup">‚Çπ0</div>
                        </div>

                        <div class="bk-row type-churn">
                            <div class="bk-info">
                                <span>Patient Churn Impact</span>
                                <span id="calcChurn">Adjust sliders to calculate</span>
                            </div>
                            <div class="bk-amount" id="lossChurn">‚Çπ0</div>
                        </div>
                    </div>

                    <!-- ROI -->
                    <div class="roi-box">
                        <div class="roi-head">
                            <div class="roi-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                            </div>
                            <div class="roi-head-text">
                                <strong>With THB Coordinated Care</strong>
                                <span>Direct recovery + operational efficiencies &amp; referral uplift</span>
                            </div>
                        </div>
                        <div class="roi-grid">
                            <div class="roi-stat">
                                <div class="roi-stat-val" id="roiRecovered">‚Çπ0</div>
                                <div class="roi-stat-lbl">Annual Revenue Recovered</div>
                            </div>
                            <div class="roi-stat">
                                <div class="roi-stat-val" id="roiPayback">‚Äî</div>
                                <div class="roi-stat-lbl">Payback Period</div>
                            </div>
                            <div class="roi-stat">
                                <div class="roi-stat-val" id="roiROI">‚Äî</div>
                                <div class="roi-stat-lbl">Return on Investment</div>
                            </div>
                            <div class="roi-stat">
                                <div class="roi-stat-val">1.4√ó</div>
                                <div class="roi-stat-lbl">CRM Operational Uplift Applied</div>
                            </div>
                        </div>
                    </div>

                    <!-- DUAL CTAs -->
                    <div class="cta-group">
                        <a class="cta-primary" href="https://calendly.com/viveksharma_thb_group" target="_blank">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                            Schedule a Demo with THB
                        </a>
                        <a class="cta-secondary" href="https://thb.group/" target="_blank">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                            Know More
                        </a>
                        <p class="cta-note">*Includes direct revenue recovery + operational efficiencies (staff savings, referral uplift, billing optimization, patient engagement).</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <a href="https://thb.group/" target="_blank"><img src="https://thb.group/images/footerlogo.svg" alt="THB"></a>
            <p>Close-Circuit Coordinated Care Platform</p>
            <p>Data sourced from NCBI, Statista, WHO Health Studies ¬∑ <a href="https://thb.group/close-circuit-coordinated-care.html">Learn about our platform</a></p>
        </footer>
    </div>

<script>
/* ===== CONFIG ===== */
const CFG = {
    india: {
        curr: '‚Çπ', label: 'India',
        feeRange: '‚Çπ300‚Äì800', defaultFee: 500,
        benchNoShow: '18‚Äì25%', benchFollowup: '35‚Äì45%', benchChurn: '30‚Äì40%',
        thbCost: 8000000   // ‚Çπ80 lakh
    },
    middleeast: {
        curr: 'AED', label: 'Middle East',
        feeRange: 'AED 100‚Äì300', defaultFee: 150,
        benchNoShow: '15‚Äì22%', benchFollowup: '40‚Äì50%', benchChurn: '25‚Äì35%',
        thbCost: 400000     // AED equivalent (~‚Çπ80L)
    },
    usd: {
        curr: '$', label: 'Global (USD)',
        feeRange: '$75‚Äì200', defaultFee: 120,
        benchNoShow: '18‚Äì23%', benchFollowup: '35‚Äì50%', benchChurn: '25‚Äì40%',
        thbCost: 95000      // ~$95K USD equivalent
    }
};

let region = 'india';

/* ===== REGION ===== */
function setRegion(r) {
    region = r;
    document.querySelectorAll('.region-btn').forEach(b =>
        b.classList.toggle('active', b.dataset.region === r));
    const c = CFG[r];
    document.getElementById('curr').textContent = c.curr;
    document.getElementById('feeTag').textContent = c.feeRange;
    document.getElementById('regionLbl').textContent = c.label;
    document.getElementById('consultFee').value = c.defaultFee;
    document.getElementById('bNoShow').textContent = c.benchNoShow;
    document.getElementById('bFollowup').textContent = c.benchFollowup;
    document.getElementById('bChurn').textContent = c.benchChurn;
    calc();
}

/* ===== SLIDER SYNC ===== */
function syncSlider(el, labelId) {
    document.getElementById(labelId).textContent = el.value + '%';
    // fill track
    const pct = ((el.value - el.min) / (el.max - el.min)) * 100;
    el.style.setProperty('--fill', pct + '%');
}

// init all sliders to 0 fill
document.querySelectorAll('input[type="range"]').forEach(el => {
    el.style.setProperty('--fill', '0%');
});

/* ===== FORMATTING ===== */
function fmtShort(n, r) {
    const c = CFG[r].curr;
    if (r === 'india') {
        if (n >= 10000000) return c + (n / 10000000).toFixed(2) + ' Cr';
        if (n >= 100000) return c + (n / 100000).toFixed(2) + ' L';
        return c + Math.round(n).toLocaleString('en-IN');
    }
    // AED and USD
    if (n >= 1000000) return c + (n / 1000000).toFixed(2) + 'M';
    if (n >= 1000) return c + (n / 1000).toFixed(1) + 'K';
    return c + Math.round(n).toLocaleString('en-US');
}

function fmtFull(n, r) {
    const c = CFG[r].curr;
    return r === 'india'
        ? c + Math.round(n).toLocaleString('en-IN')
        : c + Math.round(n).toLocaleString('en-US');
}

/* ===== MAIN CALC ===== */
function calc() {
    const opd  = parseInt(document.getElementById('opdVolume').value) || 0;
    const fee  = parseInt(document.getElementById('consultFee').value) || 0;
    const wDays = parseInt(document.getElementById('workDays').value) || 26;
    const noShow = parseInt(document.getElementById('noShowRate').value) / 100;
    const fup   = parseInt(document.getElementById('followupRate').value) / 100;
    const needFup = parseInt(document.getElementById('needFupRate').value) / 100;
    const churn = parseInt(document.getElementById('churnRate').value) / 100;

    const annDays = wDays * 12;
    const c = CFG[region].curr;

    // 1) No-show loss
    const dailyNoShows = opd * noShow;
    const lNoShow = dailyNoShows * fee * annDays;

    // 2) Follow-up loss
    // Patients needing follow-up √ó % who MISS follow-up √ó fee √ó days
    const ptsNeedFup = opd * needFup;
    const missRate = 1 - fup;     // if conversion=40%, miss=60%
    const lFollowup = ptsNeedFup * missRate * fee * annDays;

    // 3) Churn loss (LTV-based)
    const avgVisitsPerYr = 3.2;
    const lifetimeYrs = 2.5;
    const uniquePts = annDays > 0 ? (opd * annDays) / avgVisitsPerYr : 0;
    const ltv = fee * avgVisitsPerYr * lifetimeYrs;
    const lChurn = uniquePts * churn * ltv * 0.1;

    const total = lNoShow + lFollowup + lChurn;

    // THB recovery ‚Äî direct CRM impact (proven metrics)
    const recNoShow  = lNoShow * 0.35;    // automated reminders + smart scheduling
    const recFollowup = lFollowup * 0.45;  // automated follow-up workflows + nudges
    const recChurn   = lChurn * 0.25;      // engagement campaigns + satisfaction tracking
    const directRecovery = recNoShow + recFollowup + recChurn;

    // Additional CRM operational benefits (1.4x multiplier)
    // Accounts for: staff time savings, referral uplift, billing optimization,
    // cross-sell/upsell via campaigns, patient satisfaction ‚Üí organic growth,
    // reduced readmissions, insurance claim optimization
    const crmMultiplier = 1.4;
    const recovered = directRecovery * crmMultiplier;

    // Payback on ‚Çπ80L investment
    const thbCost = CFG[region].thbCost;
    const paybackMonths = recovered > 0 ? thbCost / (recovered / 12) : Infinity;
    const roiPct = recovered > 0 ? ((recovered - thbCost) / thbCost) * 100 : 0;

    // ===== UPDATE DOM =====
    document.getElementById('totalLeak').textContent = total > 0 ? fmtShort(total, region) : c + '0';

    document.getElementById('lossNoShow').textContent = lNoShow > 0 ? '-' + fmtFull(lNoShow, region) : c + '0';
    document.getElementById('calcNoShow').textContent = lNoShow > 0
        ? `${opd} √ó ${(noShow*100).toFixed(0)}% √ó ${c}${fee} √ó ${annDays} days`
        : 'Adjust sliders to calculate';

    document.getElementById('lossFollowup').textContent = lFollowup > 0 ? '-' + fmtFull(lFollowup, region) : c + '0';
    document.getElementById('calcFollowup').textContent = lFollowup > 0
        ? `${Math.round(ptsNeedFup)} pts √ó ${(missRate*100).toFixed(0)}% miss √ó ${c}${fee} √ó ${annDays} days`
        : 'Adjust sliders to calculate';

    document.getElementById('lossChurn').textContent = lChurn > 0 ? '-' + fmtFull(lChurn, region) : c + '0';
    document.getElementById('calcChurn').textContent = lChurn > 0
        ? `${Math.round(uniquePts).toLocaleString()} patients √ó ${(churn*100).toFixed(0)}% churn`
        : 'Adjust sliders to calculate';

    document.getElementById('roiRecovered').textContent = recovered > 0 ? fmtShort(recovered, region) : c + '0';

    if (recovered > 0 && paybackMonths < 120) {
        document.getElementById('roiPayback').textContent = paybackMonths < 12
            ? paybackMonths.toFixed(1) + ' months'
            : (paybackMonths / 12).toFixed(1) + ' years';
    } else {
        document.getElementById('roiPayback').textContent = '‚Äî';
    }

    document.getElementById('roiROI').textContent = recovered > 0
        ? (roiPct > 0 ? '+' : '') + roiPct.toFixed(0) + '%'
        : '‚Äî';
}

/* ===== INIT ===== */
calc();
</script>
</body>
</html>
